/*! rs_walsh v0.0.1 | (c) 2019 Matt McDonald | MIT License | http://link-to-your-git-repo.com */
/*!
 * rs_walsh v0.0.1
 * A luxury landscaping company based in Florida
 * (c) 2019 Matt McDonald
 * MIT License
 * http://link-to-your-git-repo.com
 */
const header=document.querySelector("header"),body=document.body,wrapper=document.querySelector(".wrapper"),animateIn=document.querySelectorAll(".animate-in"),imgWraps=document.querySelectorAll(".img-wrap > .absolute-0");document.addEventListener("DOMContentLoaded",(function(){imgWraps.forEach(e=>{const t=document.createElement("div");t.classList.add("loader"),e.prepend(t)}),animateIn.length&&gsap.fromTo(animateIn,{y:100},{stagger:.1,delay:.2,duration:1.5,y:0,autoAlpha:1,ease:"expo.out"}),window.onload=function(){imgWraps.forEach(e=>{const t=e.querySelector(".loader");e.removeChild(t)})}}));const mouseInteractItems=document.querySelectorAll(".mouse-interact");if(mouseInteractItems.length){const e=15,t=.6,n="power3.out";mouseInteractItems.forEach(e=>e.addEventListener("mouseleave",(function(){const o=e.querySelectorAll("h2"),a=e.querySelector("img");gsap.to([o,a],{duration:t,y:0,x:0,scale:1,ease:n})}))),mouseInteractItems.forEach(o=>o.addEventListener("mousemove",(function(a){const i=o.getBoundingClientRect(),s=i.x,r=i.y,l=i.width,c=i.height,d=a.clientY,u=a.clientX,m=Math.floor(u-s-l/2),p=Math.floor(d-r-c/2),h=Math.round(m/(l/2)*1e3)/1e3,g=Math.round(p/(c/2)*1e3)/1e3,y=o.querySelectorAll("h2"),f=o.querySelector("img");y.forEach(o=>{gsap.to(o,{duration:t,y:e*-g,x:e*-h,ease:n})}),gsap.to(f,{duration:t,y:e*g,x:e*h,scale:1.12,ease:n})})))}if(header){const e=document.getElementById("hamburger"),t=document.querySelectorAll("header nav a"),n=document.getElementById("mobile-menu"),o=document.querySelectorAll("#mobile-menu .has-submenu");let a="";["projects","services","garden-center","about-us","blog","contact"].forEach(e=>{(a=!!body.classList.contains(e)&&e)&&t.forEach(e=>{e.dataset.page===a&&e.classList.add("active")})}),e.addEventListener("click",e=>{body.classList.toggle("mobile-nav-is-open"),body.classList.contains("mobile-nav-is-open")?bodyScrollLock.disableBodyScroll(n):bodyScrollLock.enableBodyScroll(n)});var mq=window.matchMedia("(min-width: 992px)");function normalize(){console.log(mq),mq.matches&&body.classList.contains("mobile-nav-is-open")&&(body.classList.remove("mobile-nav-is-open"),bodyScrollLock.enableBodyScroll(n))}function isMobileNavVisible(e){return!!e.classList.contains("mobile-nav-is-open")}window.addEventListener("resize",_.throttle(normalize,100,{trailing:!1})),o.forEach(e=>e.querySelector(".submenu").setAttribute("data-collapsed","true")),o.forEach(e=>e.querySelector("p").addEventListener("click",(function(){var e=this.nextElementSibling;"true"===e.getAttribute("data-collapsed")?expandAccordion(e):collapseAccordion(e)}))),new Headroom(header,{offset:80,tolerance:4,onUnpin:function(){e.classList.remove("pinned"),e.classList.add("unpinned")},onPin:function(){e.classList.remove("unpinned"),e.classList.add("pinned")}}).init()}if(body.classList.contains("homepage")||body.classList.contains("project-single")){function controlHeights(){const e=window.innerHeight+"px";this.requestAnimationFrame((function(){document.body.style.height=e,wrapper.style.height=e}))}window.addEventListener("resize",controlHeights),controlHeights()}function collapseAccordion(e){console.log("collapsing");var t=e.parentElement.querySelector(".submenu").scrollHeight,n=e.style.transition;e.style.transition="",requestAnimationFrame((function(){e.style.height=t+"px",e.style.transition=n,requestAnimationFrame((function(){e.style.height="0px",e.parentElement.classList.remove("expanded")}))})),e.setAttribute("data-collapsed","true")}function expandAccordion(e){console.log("expanding"),e.parentElement.classList.add("expanded");var t=e.scrollHeight;parseInt(window.getComputedStyle(e.lastElementChild).marginBottom.split("px")[0]);e.style.height=t+"px",e.addEventListener("transitionend",(function(t){e.removeEventListener("transitionend",arguments.callee),e.style.height="auto"})),e.setAttribute("data-collapsed","false")}const sliderWrap=document.querySelector(".slider-wrap"),sliderWrapPagination=document.querySelector(".slider-wrap-pagination");if(sliderWrap){console.log(Siema);var slider=new Siema({selector:sliderWrap,duration:400,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",loop:!0})}if(sliderWrapPagination){Siema.prototype.addPagination=function(){const t=sliderWrapPagination.parentElement,o=document.createElement("div");o.classList.add("dot-container"),t.style.position="relative",t.appendChild(o);for(let t=0;t<this.innerElements.length;t++){const a=document.createElement("div");a.classList.add("dot"),0===t&&a.classList.add("active"),a.addEventListener("click",o=>{this.goTo(t),clearTimeout(n),n=setInterval((function(){e.next()}),6e3)}),o.appendChild(a)}};const e=new Siema({selector:sliderWrapPagination,onChange:function(){const e=this.currentSlide;t.forEach(e=>e.classList.remove("active")),t[e].classList.add("active")},duration:400,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",loop:!0});e.addPagination();const t=document.querySelectorAll(".dot");let n=setInterval((function(){e.next()}),6e3)}var scroll=new SmoothScroll('a[href*="#"]',{offset:"115px",speed:700,speedAsDuration:!0,easing:"easeInOutQuint"});