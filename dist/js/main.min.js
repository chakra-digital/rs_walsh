/*! rs_walsh v0.0.1 | (c) 2019 Matt McDonald | MIT License | http://link-to-your-git-repo.com */
/*!
 * rs_walsh v0.0.1
 * A luxury landscaping company based in Florida
 * (c) 2019 Matt McDonald
 * MIT License
 * http://link-to-your-git-repo.com
 */
const header=document.querySelector("header"),body=document.body,wrapper=document.querySelector(".wrapper");if(header){const e=document.getElementById("hamburger"),t=document.querySelectorAll("header nav a"),n=document.querySelector(".mobile-nav-wrapper"),i=document.querySelectorAll("#mobile-menu .has-submenu");let o="";["projects","services","garden-center","about-us","contact"].forEach(e=>{""!==(o=body.classList.contains(e)?e:"")&&t.forEach(e=>{e.dataset.page===o&&e.classList.add("active")})}),e.addEventListener("click",e=>{body.classList.toggle("mobile-nav-is-open"),body.classList.contains("mobile-nav-is-open")?bodyScrollLock.disableBodyScroll(n):bodyScrollLock.enableBodyScroll(n)});const a=window.matchMedia("(min-width: 992px)");function normalize(){a.matches&&body.classList.contains("mobile-nav-is-open")&&(body.classList.remove("mobile-nav-is-open"),bodyScrollLock.enableBodyScroll(n))}function isMobileNavVisible(e){return!!e.classList.contains("mobile-nav-is-open")}window.addEventListener("resize",_.throttle(normalize,100,{trailing:!1})),i.forEach(e=>e.querySelector(".submenu").setAttribute("data-collapsed","true")),i.forEach(e=>e.querySelector("p").addEventListener("click",(function(){var e=this.nextElementSibling;"true"===e.getAttribute("data-collapsed")?expandAccordion(e):collapseAccordion(e)}))),new Headroom(header,{offset:80,tolerance:4,onUnpin:function(){e.classList.remove("pinned"),e.classList.add("unpinned")},onPin:function(){e.classList.remove("unpinned"),e.classList.add("pinned")}}).init()}if(body.classList.contains("homepage")||body.classList.contains("project-single")){function controlHeights(){const e=window.innerHeight+"px";this.requestAnimationFrame((function(){document.body.style.height=e,wrapper.style.height=e}))}window.addEventListener("resize",controlHeights),controlHeights()}function collapseAccordion(e){console.log("collapsing");var t=e.parentElement.querySelector(".submenu").scrollHeight,n=e.style.transition;e.style.transition="",requestAnimationFrame((function(){e.style.height=t+"px",e.style.transition=n,requestAnimationFrame((function(){e.style.height="0px",e.parentElement.classList.remove("expanded")}))})),e.setAttribute("data-collapsed","true")}function expandAccordion(e){console.log("expanding"),e.parentElement.classList.add("expanded");var t=e.scrollHeight;parseInt(window.getComputedStyle(e.lastElementChild).marginBottom.split("px")[0]);e.style.height=t+"px",e.addEventListener("transitionend",(function(t){e.removeEventListener("transitionend",arguments.callee),e.style.height="auto"})),e.setAttribute("data-collapsed","false")}const animateIn=document.querySelectorAll(".animate-in");animateIn.length&&gsap.from(animateIn,{stagger:.1,duration:1,y:100,opacity:0,ease:"expo.out"});const sliderWrap=document.querySelector(".slider-wrap"),sliderWrapPagination=document.querySelector(".slider-wrap-pagination");if(sliderWrap){console.log(Siema);var slider=new Siema({selector:sliderWrap,duration:400,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",loop:!0})}if(sliderWrapPagination){Siema.prototype.addPagination=function(){console.log(sliderWrapPagination.firstChild);const t=document.createElement("div");t.classList.add("dot-container"),sliderWrapPagination.appendChild(t);for(let n=0;n<this.innerElements.length;n++){const i=document.createElement("div");i.classList.add("dot"),0===n&&i.classList.add("active"),i.addEventListener("click",t=>{this.goTo(n),clearTimeout(sliderTimer),sliderTimer=setInterval((function(){mySiema.next()}),e)}),t.appendChild(i)}};const e=new Siema({selector:sliderWrapPagination,onChange:function(){const e=this.currentSlide;t.forEach(e=>e.classList.remove("active")),t[e].classList.add("active")},duration:400,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",loop:!0});e.addPagination();const t=document.querySelectorAll(".dot");setInterval((function(){e.next()}),6e3)}