/*! rs_walsh v0.0.1 | (c) 2019 Matt McDonald | MIT License | http://link-to-your-git-repo.com */
/*!
 * rs_walsh v0.0.1
 * A luxury landscaping company based in Florida
 * (c) 2019 Matt McDonald
 * MIT License
 * http://link-to-your-git-repo.com
 */
Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);const header=document.querySelector("header"),hamburger=document.getElementById("hamburger"),mobileNavWrapper=document.querySelector(".mobile-nav-wrapper"),body=document.body;hamburger.addEventListener("click",e=>{body.classList.toggle("mobile-nav-is-open"),body.classList.contains("mobile-nav-is-open")?bodyScrollLock.disableBodyScroll(mobileNavWrapper):bodyScrollLock.enableBodyScroll(mobileNavWrapper)});const mq=window.matchMedia("(min-width: 992px)");function normalize(){mq.matches&&body.classList.contains("mobile-nav-is-open")&&(body.classList.remove("mobile-nav-is-open"),bodyScrollLock.enableBodyScroll(mobileNavWrapper))}function isMobileNavVisible(e){return!!e.classList.contains("mobile-nav-is-open")}window.addEventListener("resize",_.throttle(normalize,100,{trailing:!1}));const options={offset:80,tolerance:4,onUnpin:function(){hamburger.classList.remove("pinned"),hamburger.classList.add("unpinned")},onPin:function(){hamburger.classList.remove("unpinned"),hamburger.classList.add("pinned")}},headroom=new Headroom(header,options);headroom.init();const sliderWrap=document.querySelector(".slider-wrap"),sliderWrapPagination=document.querySelector(".slider-wrap-pagination");if(sliderWrapPagination){Siema.prototype.addPagination=function(){e.firstChild.style.display="table";for(let t=0;t<this.innerElements.length;t++){const o=document.createElement("button");o.classList.add("dot"),0===t&&o.classList.add("active"),o.addEventListener("click",o=>{this.goTo(t),clearTimeout(sliderTimer),sliderTimer=setInterval((function(){mySiema.next()}),e)}),e.appendChild(o)}};const e=new Siema({selector:sliderWrapPagination,onChange:function(){const e=this.currentSlide;pills.forEach(e=>e.classList.remove("active")),pills[e].classList.add("active")},duration:400,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",loop:!0});e.addPagination();document.querySelectorAll(".dot");setInterval((function(){e.next()}),quoteSlideDuration)}if(sliderWrap){new Siema({selector:sliderWrap,duration:400,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)",loop:!0})}function collapseAccordion(e){console.log("collapsing");var t=e.parentElement.querySelector(".submenu").scrollHeight,o=e.style.transition;e.style.transition="",requestAnimationFrame((function(){e.style.height=t+"px",e.style.transition=o,requestAnimationFrame((function(){e.style.height="0px",e.parentElement.classList.remove("expanded")}))})),e.setAttribute("data-collapsed","true")}function expandAccordion(e){console.log("expanding"),e.parentElement.classList.add("expanded");var t=e.scrollHeight;parseInt(window.getComputedStyle(e.lastElementChild).marginBottom.split("px")[0]);e.style.height=t+"px",e.addEventListener("transitionend",(function(t){e.removeEventListener("transitionend",arguments.callee),e.style.height="auto"})),e.setAttribute("data-collapsed","false")}var dropdownWrappers=document.querySelectorAll("#mobile-menu .has-submenu");void 0!==dropdownWrappers&&(dropdownWrappers.forEach(e=>e.querySelector(".submenu").setAttribute("data-collapsed","true")),dropdownWrappers.forEach(e=>e.querySelector("p").addEventListener("click",(function(){var e=this.nextElementSibling;"true"===e.getAttribute("data-collapsed")?expandAccordion(e):collapseAccordion(e)}))));const projects=document.querySelectorAll(".project-wrap"),maxTransform=15,duration=.6,easeFunction="Power3.easeOut";projects.forEach(e=>e.addEventListener("mouseleave",(function(){const t=e.querySelectorAll("h2"),o=e.querySelector("img");TweenMax.to([t,o],.6,{y:0,x:0,scale:1,ease:easeFunction})}))),projects.forEach(e=>e.addEventListener("mousemove",(function(t){const o=e.getBoundingClientRect(),n=o.x,i=o.y,a=o.width,r=o.height,s=t.clientY,l=t.clientX,c=Math.floor(l-n-a/2),d=Math.floor(s-i-r/2),p=Math.round(c/(a/2)*1e3)/1e3,u=Math.round(d/(r/2)*1e3)/1e3,m=e.querySelectorAll("h2"),h=e.querySelector("img");m.forEach(e=>{TweenMax.to(e,.6,{y:15*-u,x:15*-p,ease:easeFunction})}),TweenMax.to(h,.6,{y:15*u,x:15*p,scale:1.1,ease:easeFunction})})));